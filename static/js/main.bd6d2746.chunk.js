(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{27:function(e,t,r){},38:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(14),s=r.n(a),o=r(19),i=(r(27),r(15)),l=r(3),u=r(20),j=(Object(u.a)(),r(7)),d="/",b="/login",m="AUTH",f="NO_AUTH",O=function(e){return e.authorizationStatus===m},h=function(e){return e.user},p=function(e){return e.formIsLoading},x=r(1);var g=function(e){var t=e.render,r=e.path,n=e.exact,c=Object(j.c)(O);return Object(x.jsx)(l.b,{path:r,exact:n,render:function(e){return c?t(e):Object(x.jsx)(l.a,{to:b})}})},_="requireAuthorization",v="redirectToRoute",N="setUser",y="setFormIsLoading",w=function(e){return{type:_,payload:e}},I=function(e){return{type:v,payload:e}},S=function(e){return{type:N,payload:e}},L=function(e){return{type:y,payload:e}};var T=function(){var e=Object(j.b)(),t=Object(j.c)(h);return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h1",{children:t}),Object(x.jsx)("button",{className:"button",onClick:function(t){t.preventDefault(),e(I(b)),e(w(f)),localStorage.removeItem("user")},children:"Logout"})]})},k=r.p+"static/media/logo.48fd12e0.png",z=r.p+"static/media/logo.97391cd0.webp";var F=function(){var e=Object(j.b)(),t=Object(n.useRef)(),r=Object(n.useRef)(),c=Object(j.c)(p);return Object(x.jsxs)("form",{className:"login-form",onSubmit:function(n){var c;n.preventDefault(),e((c={email:t.current.value,password:r.current.value},function(e,t){e(L(!0)),setTimeout((function(){localStorage.setItem("user",c.email),e(w(m)),e(S(c.email)),e(I(d)),e(L(!1))}),500)}))},children:[Object(x.jsx)("div",{className:"login-form__logo-container",children:Object(x.jsxs)("picture",{children:[Object(x.jsx)("source",{srcSet:z,type:"image/webp"}),Object(x.jsx)("img",{className:"login-form__logo",src:k,alt:"Logo",width:"100"})]})}),Object(x.jsxs)("fieldset",{className:"login-form__fieldset",children:[Object(x.jsx)("legend",{className:"login-form__title",children:"Sign in"}),Object(x.jsxs)("ul",{className:"login-form__list",children:[Object(x.jsxs)("li",{className:"login-form__item form-item",children:[Object(x.jsx)("div",{className:"form-item__label-container",children:Object(x.jsx)("label",{htmlFor:"email",className:"form-item__label",children:"Email"})}),Object(x.jsx)("input",{ref:t,id:"email",type:"email",className:"input",placeholder:"Email",required:!0,tabIndex:"1"})]}),Object(x.jsxs)("li",{className:"login-form__item form-item",children:[Object(x.jsxs)("div",{className:"form-item__label-container",children:[Object(x.jsx)("label",{htmlFor:"password",className:"form-item__label",children:"Password"}),Object(x.jsx)("a",{href:"#forgot-password",className:"form-item__link",tabIndex:"2",children:"Forgot password?"})]}),Object(x.jsx)("input",{ref:r,id:"password",type:"password",className:"input",placeholder:"Password",required:!0,tabIndex:"1"})]}),Object(x.jsx)("li",{className:"login-form__item form-item",children:Object(x.jsx)("button",{disabled:c,className:"button button_full ".concat(c?"button_loading":""),tabIndex:"1",children:"Sign in"})})]})]})]})};var q=function(){return Object(j.c)(O)?Object(x.jsx)(l.a,{to:d}):Object(x.jsx)("div",{className:"login-screen container",children:Object(x.jsx)("section",{className:"login-screen__form-container",children:Object(x.jsx)(F,{})})})};var A=function(){return Object(x.jsx)(i.a,{hashType:"noslash",children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{exact:!0,path:b,children:Object(x.jsx)(q,{})}),Object(x.jsx)(g,{exact:!0,path:d,render:function(){return Object(x.jsx)(T,{})}})]})})},E=r(8),R={user:localStorage.getItem("user")||"",authorizationStatus:f,formIsLoading:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(E.a)(Object(E.a)({},e),{},{authorizationStatus:t.payload});case N:return Object(E.a)(Object(E.a)({},e),{},{user:t.payload});case y:return Object(E.a)(Object(E.a)({},e),{},{formIsLoading:t.payload});default:return e}},D=r(22),H=Object(o.b)(U,Object(o.a)(D.a,(function(e){return function(e){return function(t){return t.type,e(t)}}})));localStorage.getItem("user")&&H.dispatch(w(m)),s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(j.a,{store:H,children:Object(x.jsx)(A,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.bd6d2746.chunk.js.map